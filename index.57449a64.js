var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequire6bbe;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){let o=n[t];delete n[t];let s={id:t,exports:{}};return e[t]=s,o.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){n[t]=e},t.parcelRequire6bbe=o);const s={data:{currentGame:{computerMove:"none",myMove:"none"},history:{userWins:0,computerWins:0}},listeners:[],getState(){return this.data},setState(t){this.data=t,localStorage.setItem("games-data",JSON.stringify(this.data));for(const t of this.listeners)t()},setMove(t,e){const n=this.getState();n.currentGame[e]=t,this.setState(n)},getCurrentGame(){return this.getState().currentGame},restartGame(){const t=this.getState();t.currentGame.computerMove="none",t.currentGame.myMove="none",this.setState(t)},getResult(t,e){const n=["rock"===t&&"scissors"===e,"paper"===t&&"rock"===e,"scissors"===t&&"paper"===e].includes(!0),o=["rock"===e&&"scissors"===t,"paper"===e&&"rock"===t,"scissors"===e&&"paper"===t].includes(!0);let s;return s=n?"userWin":o?"computerWin":"tiedGame",s},changeHistory(t){const e=this.getState();"userWin"===t?e.history.userWins+=1:"computerWin"===t&&(e.history.computerWins+=1),this.setState(e)},init(){const t=JSON.parse(localStorage.getItem("games-data"));this.setState(t)}};function a(t){const e=document.createElement("div");e.setAttribute("class","home"),e.innerHTML='\n        <h1 class="game-title">Piedra, Papel, ó Tijeras</h1>\n\n        <custom-button text="Empezar"></custom-button>\n\n        <div class="hands-container-home">\n            <hand-comp hand="scissors"></hand-comp>\n            <hand-comp hand="rock"></hand-comp>\n            <hand-comp hand="paper"></hand-comp>\n        </div>';return e.querySelector("custom-button").addEventListener("click",(()=>{t.goToFunction("/dwf-m5-desafio/instructions")})),e}function r(t){const e=document.createElement("div");e.setAttribute("class","instructions"),e.innerHTML='\n    <p class="instructions-text">\n    Presioná jugar y elegí: piedra, papel o tijera antes de que\n    pasen los 5 segundos.\n    </p>\n    <custom-button text="¡Jugar!"></custom-button>\n    <div class="hands-container">\n    <hand-comp hand="scissors"></hand-comp>\n    <hand-comp hand="rock"></hand-comp>\n    <hand-comp hand="paper"></hand-comp>\n    </div>';return e.querySelector("custom-button").addEventListener("click",(()=>{t.goToFunction("/dwf-m5-desafio/game-countdown")})),e}function i(){const t=["rock","paper","scissors"];return t[Math.floor(Math.random()*t.length)]}function c(t){let e=5;const n=document.createElement("div");n.setAttribute("class","game-countdown"),n.innerHTML=`\n    <h2 class="countdown-timer">${e}</h2>\n    <div class="hands-container-countdown">\n        <hand-comp hand="scissors"></hand-comp>\n        <hand-comp hand="rock"></hand-comp>\n        <hand-comp hand="paper"></hand-comp>\n    </div>`;const o=n.querySelectorAll("hand-comp");o.forEach((t=>{t.addEventListener("handClick",(t=>{const e=t.detail.handMove;s.setMove(e,"myMove"),o.forEach((t=>{const n=t.shadowRoot.querySelector(".hand");t.getAttribute("hand")!==e?(n.classList.add("inactive-hand"),n.classList.remove("active-hand")):t.getAttribute("hand")===e&&(n.classList.add("active-hand"),n.classList.remove("inactive-hand"))}))}))})),s.setMove(i(),"computerMove");const a=n.querySelector(".countdown-timer"),r=setInterval((()=>{if(0===e){clearInterval(r);const e=s.getCurrentGame();"none"===e.myMove&&s.setMove(i(),"myMove"),n.classList.add("game-hands-show"),n.innerHTML=`\n            <hand-comp hand=${e.computerMove} class="computer-hand" height="215px" width="90px"></hand-comp>\n            <hand-comp hand=${e.myMove} class="user-hand" height="215px" width="90px"></hand-comp>\n            `,setTimeout((()=>{t.goToFunction("/dwf-m5-desafio/result")}),4e3)}a.textContent=e.toString(),e-=1}),1e3);return n}o.register("3380B",(function(t,e){t.exports=o("vNK0r").getBundleURL()+"userWin.5ece265f.svg"})),o.register("vNK0r",(function(t,e){var n,o,s,a,r;n=t.exports,o="getBundleURL",s=()=>r,a=t=>r=t,Object.defineProperty(n,o,{get:s,set:a,enumerable:!0,configurable:!0});var i=null;function c(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(){return i||(i=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return c(t[0])}return"/"}()),i}})),o.register("6a8XR",(function(t,e){t.exports=o("vNK0r").getBundleURL()+"computerWin.6da996ab.svg"})),o.register("dUVHe",(function(t,e){t.exports=o("vNK0r").getBundleURL()+"tiedGame.edbb38e5.svg"}));const d={userWin:o("3380B"),computerWin:o("6a8XR"),tiedGame:o("dUVHe")};function u(t){const e=document.createElement("div");e.setAttribute("class","result");const n=s.getCurrentGame(),o=s.getResult(n.myMove,n.computerMove);s.changeHistory(o);const a=s.getState().history;s.restartGame(),e.innerHTML=`\n    <div class="image-container"> \n        <img src=${d[o]} class="result-image" />\n    </div>\n\n    <div class="score-container">\n        <h2 class="score-container__title">Score</h2>\n        <article class="score-container__data">\n            <h3 class="score-container__user-data score">Vos: ${a.userWins}</h3>\n            <h3 class="score-container__computer-data score">\n                Máquina: ${a.computerWins}\n            </h3>\n        </article>\n    </div>\n\n    <div class="button-container">\n        <custom-button text="Volver a jugar"></custom-button>\n    </div>`;return e.querySelector("custom-button").addEventListener("click",(()=>{t.goToFunction("/dwf-m5-desafio/instructions")})),e}o.register("2gvdT",(function(t,e){t.exports=o("vNK0r").getBundleURL()+"piedra.2f1d17d5.png"})),o.register("5mhTa",(function(t,e){t.exports=o("vNK0r").getBundleURL()+"papel.3c863b52.png"})),o.register("2UmJh",(function(t,e){t.exports=o("vNK0r").getBundleURL()+"tijera.f61c75f8.png"}));const h={rock:o("2gvdT"),paper:o("5mhTa"),scissors:o("2UmJh")};!function(){class t extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){const t=this.getAttribute("text")||"Empezar",e=document.createElement("button");e.setAttribute("class","custom-button");const n=document.createElement("style");n.innerHTML="\n            * {\n                box-sizing: border-box;\n            }\n            \n            .custom-button {\n                width: 100%;\n                padding: 10px;\n                \n                font-family: inherit;\n                font-size: 45px;\n                background-color: #006cfc;\n                color: white;\n                border: solid 10px #001997;\n                border-radius: 10px;\n                cursor: pointer;\n                transition: opacity 0.3s ease;\n            }\n            \n            .custom-button:hover {\n                opacity: 0.85;\n            }",e.textContent=t,this.shadow.appendChild(n),this.shadow.appendChild(e)}}customElements.define("custom-button",t)}(),function(){class t extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.render()}addListeners(){this.shadow.querySelector(".hand"),this.addEventListener("click",(()=>{const t=new CustomEvent("handClick",{detail:{handMove:this.getAttribute("hand")}});this.dispatchEvent(t)}))}render(){const t=this.getAttribute("hand")||"rock",e=this.getAttribute("height")||"175px",n=this.getAttribute("width")||"70px",o=document.createElement("img");o.setAttribute("src",h[t]),o.setAttribute("class","hand");const s=document.createElement("style");s.innerHTML=`\n                * {\n                    box-sizing: border-box;\n                }\n\n                .hand {\n                    height: ${e};\n                    width: ${n};\n\n                    transform: translateY(30px);\n                    transition: all 0.3s ease-in-out;\n                    cursor: pointer;\n                }\n\n                .active-hand {\n                    transform: translateY(5px);\n                    transition: all 0.3s ease-in-out;\n                }\n\n                .inactive-hand {\n                    opacity: 45%;\n                    transition: all 0.3s ease-in-out;\n                }`,this.shadow.appendChild(s),this.shadow.appendChild(o),this.addListeners()}}customElements.define("hand-comp",t)}(),s.init(),function(t){console.log("> Se cargó el router");const e=[{path:/\/dwf-m5-desafio\/home/,page:a},{path:/\/dwf-m5-desafio\/instructions/,page:r},{path:/\/dwf-m5-desafio\/game-countdown/,page:c},{path:/\/dwf-m5-desafio\/result/,page:u}];function n(t){history.pushState({},"",t),o(t)}function o(o){for(const s of e)if(s.path.test(o)){const e=s.page({goToFunction:n});t.firstChild&&t.firstChild.remove(),t.appendChild(e)}}location.host.includes("github.io")?(console.log("> Se inició la primera página"),n("/dwf-m5-desafio/home")):(console.log("> Se cargó la ruta: ",location.pathname),o(location.pathname)),window.onpopstate=()=>{o(location.pathname)}}(document.querySelector("#root"));
//# sourceMappingURL=index.57449a64.js.map
